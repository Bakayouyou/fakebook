<div class="profile-background">
  <%= image_tag ("user-background-default.jpg"), class:"profile-background-img" %>
</div>
<div class="container container-margin">
  <div class="section align-center">
    <%= image_tag ("user-profile-default.jpg"), class:"profile-face" %>
    <div>
      <h2>About me</h2>
      <p>Gender: <%= @user.gender %></p>
      <p>Email: <%= @user.email %></p>
    </div>
  </div>
  <div style="width: 100%">
    <h1><%= @user.first_name %> <%= @user.last_name %></h1>
    <div class="post-feed">
      <% if @user == current_user %>
        <%= render "createpost" %>
      <% end %>
      <% @posts.each do |post| %>
        <div class="post">
          <div class="post-header">
            <div class="post-display-user">
              <%= image_tag ("user-profile-default.jpg"), class: "contact-profile" %>
              <h3><%= @user.first_name %> <%= @user.last_name %></h3>
            </div>
            <% if post.user == current_user %>
              <div class="post-options-hover">
                <%= image_tag "option-dots.png", class: "post-option-dots" %>
              </div>
            <% end %>
          </div>
          <div class="post-content">
            <p><%= post.content %></p>
          </div>
          <% unless post.comments.empty? %>
            <p class="comment-count"><%= post.comments.count %> comment(s)</p>
          <% end %>
          <div class="post-buttons">
            <button class="post-button">Like</button>
            <button class="post-button">Comment</button>
          </div>
          <% @post.id = post.id %>
          <% unless post.comments.empty? %>
            <div class="post-comments">
              <% post.comments.each do |comment| %>
                <div class="post-comment">
                  <%= image_tag ("user-profile-default.jpg"), class: "contact-profile" %>
                  <div class="post-comment-content">
                    <p><strong><%= comment.user.first_name %> <%= comment.user.last_name %></strong></p>
                    <p><%= comment.content %></p>
                  </div>
                </div>
              <% end %>
            </div>
          <% end %>
          <%= render "createpostcomment" %>
        </div>
      <% end %>
    </div>
  </div>
</div>
